---
import Layout from '~/layouts/PageLayout.astro';
import WPPageHero from '~/components/wordpress/WPPageHero.astro';
import BlogList from '~/components/blog/List.astro';
import { fetchPosts } from '~/utils/blog';

const metadata = {
  title: 'Blog',
  description: 'Helpful information about prenatal and postpartum care, including early pregnancy symptoms, finding good doctors, support programs, and more.',
};

// Fetch English blog posts only
const allPosts = await fetchPosts();
const posts = allPosts.filter((post) => post.metadata?.canonical?.includes('/en/'));
---

<Layout metadata={metadata}>
  <!-- Hero Section -->
  <WPPageHero title="Blog" />

  <!-- Blog Posts Section -->
  <section class="py-16 md:py-20 bg-white">
    <div class="container mx-auto px-4 max-w-4xl">
      <h2 class="text-2xl md:text-3xl font-bold mb-12 text-center text-gray-800">Latest Articles</h2>

      <!-- Recent Posts -->
      <div class="mb-12">
        <BlogList posts={posts} />
      </div>
    </div>
  </section>
</Layout>
