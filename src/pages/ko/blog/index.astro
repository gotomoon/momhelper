---
import Layout from '~/layouts/PageLayout.astro';
import WPPageHero from '~/components/wordpress/WPPageHero.astro';
import BlogList from '~/components/blog/List.astro';
import { fetchPosts } from '~/utils/blog';

const metadata = {
  title: '블로그 | Mom Helper USA',
  description: 'Mom Helper USA의 산후조리, 임신, 육아 정보 블로그입니다.',
};

// Fetch Korean blog posts only
const allPosts = await fetchPosts();
const posts = allPosts.filter((post) => !post.metadata?.canonical?.includes('/en/'));
---

<Layout metadata={metadata}>
  <!-- Hero Section -->
  <WPPageHero title="블로그" />

  <!-- Blog Posts Section -->
  <section class="py-16 md:py-20 bg-white">
    <div class="container mx-auto px-4 max-w-4xl">
      <h2 class="text-2xl md:text-3xl font-bold mb-12 text-center text-gray-800">최신 게시물</h2>

      <!-- Recent Posts -->
      <div class="mb-12">
        <BlogList posts={posts} />
      </div>
    </div>
  </section>
</Layout>
