---
interface Button {
  text: string;
  href: string;
  variant?: 'primary' | 'secondary';
}

interface ContactInfo {
  phone?: string;
  email?: string;
  kakao?: string;
}

interface Props {
  title: string;
  subtitle?: string;
  buttons?: Button[];
  contactInfo?: ContactInfo;
  backgroundColor?: string;
  textColor?: string;
}

const {
  title,
  subtitle,
  buttons = [],
  contactInfo,
  backgroundColor = '#D37643',
  textColor = 'white',
} = Astro.props;
---

<section class="et_pb_section py-16" style={`background-color: ${backgroundColor};`}>
  <div class="container mx-auto max-w-[1080px] px-4 text-center">
    <h2 class={`font-['Noto_Sans_KR'] text-2xl md:text-3xl font-bold mb-4 text-${textColor}`}>
      {title}
    </h2>

    {subtitle && (
      <p class={`text-lg mb-8 text-${textColor}`}>
        {subtitle}
      </p>
    )}

    <!-- Slot for custom subtitle content -->
    <slot name="subtitle" />

    {buttons.length > 0 && (
      <div class="flex flex-col sm:flex-row gap-4 justify-center mb-8">
        {buttons.map((button) => (
          <a
            href={button.href}
            class={
              button.variant === 'secondary'
                ? 'inline-block bg-transparent text-white border-2 border-white font-bold px-8 py-3 rounded-full hover:bg-white hover:text-[#D37643] transition-colors'
                : 'inline-block bg-white text-[#D37643] font-bold px-8 py-3 rounded-full hover:bg-gray-100 transition-colors'
            }
          >
            {button.text}
          </a>
        ))}
      </div>
    )}

    {contactInfo && (
      <div class={`mt-8 text-${textColor}`}>
        {contactInfo.phone && (
          <p class="mb-2">
            <strong>전화:</strong>{' '}
            <a href={`tel:${contactInfo.phone.replace(/[^0-9]/g, '')}`} class="hover:underline">
              {contactInfo.phone}
            </a>
          </p>
        )}
        {contactInfo.email && (
          <p class="mb-2">
            <strong>이메일:</strong>{' '}
            <a href={`mailto:${contactInfo.email}`} class="hover:underline">
              {contactInfo.email}
            </a>
          </p>
        )}
        {contactInfo.kakao && (
          <p>
            <strong>카카오톡 ID:</strong> {contactInfo.kakao}
          </p>
        )}
      </div>
    )}

    <!-- Slot for additional content -->
    <slot />
  </div>
</section>

<style>
  .et_pb_section {
    font-family: 'Noto Sans KR', 'Open Sans', sans-serif;
  }
</style>
